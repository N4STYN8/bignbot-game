
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>IRONLINE TD</title>
<style>
  :root{
    --bg:#0b0a08;
    --hud:#1b140c;
    --panel:#2a1d12;
    --panel2:#18110b;
    --line:#6b4c2d;
    --text:#ffeccc;
    --muted:#d2bf9b;
    --accent:#ffb55a;
    --accent2:#7fd0ff;
    --good:#78ffb1;
    --bad:#ff5f6f;
    --warn:#ffd36a;
    --shadow: 0 12px 26px rgba(0,0,0,.55);
    --glow: 0 0 18px rgba(255,181,90,.35);
    --glow2: 0 0 18px rgba(127,208,255,.25);
    --topH: 68px;
    --dockH: 240px;
    --font: "Bahnschrift","Franklin Gothic Medium","Trebuchet MS","Segoe UI",Arial,sans-serif;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }
  *{box-sizing:border-box;}
  html,body{height:100%; margin:0; background:radial-gradient(1200px 700px at 50% -20%, #3a2a18 0%, #1a140c 60%, #090706 100%); color:var(--text); font-family:var(--font); overflow:hidden;}
  #app{position:fixed; inset:0; display:flex; flex-direction:column;}
  #topbar{
    height:var(--topH);
    display:flex; align-items:center; justify-content:space-between; gap:10px;
    padding:8px 12px;
    background:linear-gradient(180deg, rgba(32,22,14,.98), rgba(18,12,8,.98));
    border-bottom:1px solid rgba(170,125,70,.45);
    box-shadow: var(--shadow);
    z-index:10;
  }
  .chip{display:flex; align-items:center; gap:8px; padding:6px 10px; border-radius:10px; background:linear-gradient(180deg, rgba(64,44,26,.98), rgba(26,18,12,.98)); border:1px solid rgba(185,140,80,.55); box-shadow: var(--glow);}
  .chip .k{color:var(--muted); font-size:11px; letter-spacing:.12em; text-transform:uppercase;}
  .chip .v{font-weight:800; font-size:16px; font-family:var(--mono);}
  .chip .icon{width:18px; height:18px; display:inline-block; margin-right:2px;}
  #playfield{flex:1; position:relative; background:#0e0b08;}
  #gameCanvas{position:absolute; inset:0; width:100%; height:100%; display:block;}
  #dock{
    height:var(--dockH);
    display:flex; gap:12px; padding:10px 12px;
    background:linear-gradient(180deg, rgba(26,18,12,.96), rgba(18,12,8,.99));
    border-top:1px solid rgba(170,125,70,.45);
    box-shadow: 0 -12px 26px rgba(0,0,0,.6);
    z-index:10;
  }
  .panel{background:linear-gradient(180deg, rgba(60,40,22,.95), rgba(22,16,10,.98)); border:1px solid rgba(170,125,70,.45); border-radius:12px; padding:10px; box-shadow: var(--shadow), var(--glow);}
  .panelTitle{font-size:11px; letter-spacing:.18em; text-transform:uppercase; color:var(--muted); margin-bottom:6px;}
  .dockCol{display:flex; flex-direction:column; gap:8px;}
  #cards{display:grid; grid-template-columns: repeat(5, minmax(0,1fr)); gap:8px;}
  .card{min-height:124px; padding:8px; border-radius:12px; border:1px solid rgba(170,125,70,.45); background:linear-gradient(180deg, rgba(70,48,28,.98), rgba(26,18,12,.98)); box-shadow: var(--shadow); cursor:pointer; user-select:none; position:relative;}
  .card.selected{border-color: rgba(255,181,90,.9); box-shadow: var(--shadow), var(--glow);}
  .card .name{font-weight:800;}
  .card .desc{font-size:12px; color:var(--muted); margin-top:4px; min-height:34px;}
  .badge{display:inline-block; padding:3px 8px; border-radius:999px; background:rgba(255,181,90,.16); border:1px solid rgba(255,181,90,.30); font-family:var(--mono); font-size:11px;}
  .card .hot{position:absolute; top:6px; right:6px; font-size:11px; color:#fff; background:rgba(0,0,0,.35); padding:2px 6px; border-radius:8px;}
  .btn{height:38px; padding:0 12px; border-radius:10px; border:1px solid rgba(185,140,80,.55); background:linear-gradient(180deg, rgba(86,56,30,.98), rgba(28,20,12,.98)); color:var(--text); font-weight:700; letter-spacing:.02em; cursor:pointer; box-shadow: var(--shadow);}
  .btn:hover{filter:brightness(1.08); border-color: rgba(255,200,140,.7);} 
  .btn.primary{border-color: rgba(255,181,90,.75); box-shadow: var(--shadow), var(--glow);} 
  .btn.ghost{background:linear-gradient(180deg, rgba(50,36,22,.85), rgba(22,16,10,.92));}
  .btn[disabled]{opacity:.45; cursor:not-allowed; filter:saturate(.4);} 
  .split{display:grid; grid-template-columns: 1fr 1fr; gap:8px;}
  .statRow{display:flex; justify-content:space-between; font-size:13px; color:var(--muted);} 
  .big{font-size:18px; font-weight:900;} 
  #menus{position:fixed; inset:0; pointer-events:none;}
  .menu{position:absolute; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.55); pointer-events:auto;}
  .menu.active{display:flex;}
  .menuBox{width:min(720px, 92vw); background:linear-gradient(180deg, rgba(60,40,22,.98), rgba(22,16,10,.98)); border:1px solid rgba(185,140,80,.55); border-radius:14px; padding:16px; box-shadow: var(--shadow), var(--glow);} 
  .menuBox h2{margin:0 0 8px 0; font-size:20px;}
  .menuBox p{color:var(--muted);} 
  .menuGrid{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px;}
  .toggle{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px; border-radius:10px; border:1px solid rgba(185,140,80,.45); background:rgba(0,0,0,.25);} 
  .slider{width:100%;}
  #helpPanel{position:absolute; right:12px; top:76px; width:300px; background:linear-gradient(180deg, rgba(60,40,22,.98), rgba(22,16,10,.98)); border:1px solid rgba(185,140,80,.55); border-radius:12px; padding:10px; display:none; box-shadow: var(--shadow), var(--glow);} 
  #helpPanel.active{display:block;} 
  @media (max-width: 1100px){
    #dock{height:260px;} 
    #cards{grid-template-columns: repeat(3, minmax(0,1fr));} 
  }
  @media (max-width: 760px){
    #dock{height:340px; flex-direction:column; overflow:auto;} 
    #cards{grid-template-columns: repeat(2, minmax(0,1fr));} 
  }
</style>
</head>
<body>
<div id="app">
  <div id="topbar">
    <div style="display:flex; gap:8px; flex-wrap:wrap;">
      <div class="chip"><img class="icon" id="icoCredits"/><span class="k">Credits</span><span class="v" id="creditsText">0</span></div>
      <div class="chip"><img class="icon" id="icoScrap"/><span class="k">Scrap</span><span class="v" id="scrapText">0</span></div>
      <div class="chip"><img class="icon" id="icoEnergy"/><span class="k">Energy</span><span class="v" id="energyText">0</span></div>
    </div>
    <div style="display:flex; gap:8px; flex-wrap:wrap;">
      <div class="chip"><img class="icon" id="icoWave"/><span class="k">Wave</span><span class="v" id="waveText">1</span></div>
      <div class="chip"><img class="icon" id="icoHeart"/><span class="k">Lives</span><span class="v" id="livesText">20</span></div>
    </div>
  </div>
  <div id="playfield">
    <canvas id="gameCanvas"></canvas>
    <div id="helpPanel">
      <div class="panelTitle">How To Play</div>
      <div style="font-size:13px; color:var(--muted); line-height:1.4;">
        1-5: Select turret<br/>
        Click: Place turret<br/>
        U: Upgrade &nbsp; X: Sell<br/>
        Space: Start Wave<br/>
        P: Pause/Resume<br/>
        Esc: Cancel placement
      </div>
    </div>
  </div>
  <div id="dock">
    <div class="panel dockCol" style="flex:2; min-width:340px;">
      <div class="panelTitle">Turrets</div>
      <div id="cards"></div>
    </div>
    <div class="panel dockCol" style="flex:1; min-width:260px;">
      <div class="panelTitle">Selected Turret</div>
      <div id="selName" class="big">None</div>
      <div id="selStats" style="font-size:12px; color:var(--muted); min-height:48px;">Click a turret to see stats.</div>
      <div class="split">
        <button class="btn primary" id="btnUpgrade" disabled>Upgrade (U)</button>
        <button class="btn ghost" id="btnSell" disabled>Sell (X)</button>
      </div>
      <div class="statRow"><span>Level</span><span id="selLvl">-</span></div>
      <div class="statRow"><span>DPS</span><span id="selDps">-</span></div>
      <div class="statRow"><span>Range</span><span id="selRange">-</span></div>
    </div>
    <div class="panel dockCol" style="flex:1; min-width:260px;">
      <div class="panelTitle">Wave Controls</div>
      <button class="btn primary" id="btnStart">Start Wave (Space)</button>
      <button class="btn" id="btnSkip">Send Next Early</button>
      <div class="split">
        <button class="btn ghost" id="btnPause">Pause (P)</button>
        <button class="btn ghost" id="btnSpeed">Speed x1</button>
      </div>
      <div class="split">
        <select id="mapSelect" class="btn" style="appearance:none;"></select>
        <button class="btn ghost" id="btnHelp">Help</button>
      </div>
    </div>
  </div>
</div>
